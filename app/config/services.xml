<?xml version="1.0" encoding="UTF-8" ?>

<container xmlns="http://symfony.com/schema/dic/services"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd">

        <services>
            <service id="main.application"
                class="Symfony\Component\Console\Application"
                >
                <call method="add">
                    <argument type="service" id="command.info" />
                </call>
                <call method="add">
                    <argument type="service" id="command.init" />
                </call>
            </service>
            <service id="command.info"
                class="DotfilesInstaller\Command\InfoCommand"
                >
                <argument type="service" id="main.installation" />
                <argument type="service" id="instruction.loader" />
            </service>
            <service id="command.init"
                class="DotfilesInstaller\Command\InitCommand"
                >
                <argument type="service" id="main.installation" />
            </service>

            <service id="main.installation"
                class="DotfilesInstaller\Component\Installation"
                >
                <argument>%config_path%</argument>
                <argument type="service" id="util.path_converter" />
            </service>

            <service id="instruction.loader"
                class="DotfilesInstaller\Component\DotfileInstruction\Loader\DotfileInstructionLoader"
                >
            </service>

            <service id="util.path_converter"
                class="DotfilesInstaller\Component\Util\PathConverter"
                >
            </service>

        </services>
</container>

